# ğŸš€ GuÃ­a de Acceso MÃ³vil - QuickAR

## ğŸ“± Instrucciones para Acceder desde tu TelÃ©fono

### 1. **Verifica que estÃ©s en la misma red WiFi**
   - Tu PC y tu telÃ©fono deben estar conectados a la **misma red WiFi**
   - Tu IP actual: **192.168.0.2**

### 2. **Servidores en EjecuciÃ³n**

#### Backend API (ASP.NET Core)
- **URL HTTP**: `http://192.168.0.2:5001`
- **URL HTTPS**: `https://192.168.0.2:5002`
- **Task**: `watch-api` (ya ejecutÃ¡ndose)

#### Frontend (Next.js)
- **URL**: `http://192.168.0.2:3000`
- **Task**: `start-frontend-mobile` (ya ejecutÃ¡ndose)

### 3. **Acceder desde el TelÃ©fono**

#### OpciÃ³n 1: Navegador del TelÃ©fono
1. Abre el navegador (Chrome, Safari, etc.)
2. Navega a: **`http://192.168.0.2:3000`**
3. Acepta los permisos de cÃ¡mara cuando se soliciten

#### OpciÃ³n 2: Escanear CÃ³digo QR
Puedes generar un QR con esta URL para acceso rÃ¡pido:
```
http://192.168.0.2:3000
```

### 4. **Verificar ConfiguraciÃ³n**

#### CORS del Backend
El backend ya estÃ¡ configurado para aceptar solicitudes desde:
- âœ… `http://192.168.0.2:3000`
- âœ… `http://192.168.0.2:3001`
- âœ… `https://192.168.0.2:3000`
- âœ… `https://192.168.0.2:3001`

#### Variables de Entorno del Frontend
El task `start-frontend-mobile` ya configura:
```bash
API_INTERNAL_BASE_URL=http://192.168.0.2:5001
NEXT_PUBLIC_API_BASE_URL=http://192.168.0.2:5001
HOSTNAME=0.0.0.0
PORT=3000
```

### 5. **Probar la Experiencia AR**

1. **Registra/Inicia SesiÃ³n**: `http://192.168.0.2:3000/login`
2. **Crea una Experiencia AR**: `http://192.168.0.2:3000/experiences`
3. **Accede a la vista AR**: 
   - OpciÃ³n A: `http://192.168.0.2:3000/ar/[slug]`
   - OpciÃ³n B: `http://192.168.0.2:3000/ar/[uuid]`
4. **Otorga permisos de cÃ¡mara** cuando se solicite
5. **Disfruta del AR** con tu cÃ¡mara como fondo

### 6. **CaracterÃ­sticas AR en MÃ³vil**

âœ¨ **Controles TÃ¡ctiles Disponibles**:
- ğŸ‘† **Un dedo**: Rotar el objeto
- ğŸ‘‰ğŸ‘ˆ **Dos dedos**: 
  - Pellizcar/Expandir: Zoom
  - Arrastrar: Pan (mover cÃ¡mara)
- ğŸ”˜ **Botones en pantalla**:
  - `+` / `-`: Zoom
  - `â†»`: Rotar 90Â° en Y

âœ¨ **Tipos de Assets Soportados**:
- ğŸ¨ Modelos 3D (.glb, .gltf)
- ğŸ–¼ï¸ ImÃ¡genes (.jpg, .png, .gif)
- ğŸ¬ Videos (.mp4, .webm)
- ğŸ’¬ Mensajes de texto (tarjeta azul con gradiente)

### 7. **Troubleshooting**

#### âŒ No se conecta
- Verifica que ambos dispositivos estÃ©n en la misma red WiFi
- Comprueba tu firewall de Windows (debe permitir puerto 3000 y 5001)
- Ejecuta: `ipconfig` para verificar tu IP actual

#### âŒ Error de cÃ¡mara
- AsegÃºrate de usar **HTTP** (no HTTPS) desde IP
- Otorga permisos de cÃ¡mara en el navegador
- Si usa HTTPS, necesitarÃ¡s certificados vÃ¡lidos

#### âŒ CORS Error
- Verifica que `192.168.0.2` estÃ© en la lista CORS del backend
- Reinicia el servidor API si cambiaste la configuraciÃ³n

#### âŒ Assets no cargan
- Verifica que la API estÃ© respondiendo: `http://192.168.0.2:5001/api/health`
- Los archivos deben estar en: `QrAr.Api/wwwroot/uploads/`

### 8. **Comandos Ãštiles**

#### Ver tu IP actual
```powershell
ipconfig | Select-String -Pattern "IPv4"
```

#### Detener servidores
- Presiona `Ctrl+C` en cada terminal

#### Reiniciar servidores
```powershell
# Backend
dotnet watch run --project QrAr.Api/QrAr.Api.csproj

# Frontend
cd qr-ar-admin
npm run dev:mobile
```

### 9. **ConfiguraciÃ³n Avanzada**

#### Si tu IP cambia
1. ObtÃ©n la nueva IP: `ipconfig`
2. Actualiza `CORS` en `Program.cs` (lÃ­neas 52-68)
3. Actualiza el task `start-frontend-mobile` en `.vscode/tasks.json`
4. Reinicia ambos servidores

#### Para HTTPS en mÃ³vil
NecesitarÃ¡s:
1. Certificados SSL vÃ¡lidos para la IP local
2. Instalar el certificado CA en el telÃ©fono
3. Usar el task `start-frontend` con HTTPS

---

## ğŸ“ Notas Importantes

- ğŸ”’ **Seguridad**: Esta configuraciÃ³n es solo para desarrollo local
- ğŸŒ **Red**: AsegÃºrate de estar en una red confiable
- ğŸ“· **CÃ¡mara**: HTTP funciona mejor para permisos de cÃ¡mara en desarrollo
- ğŸ”„ **Hot Reload**: Los cambios en el cÃ³digo se reflejarÃ¡n automÃ¡ticamente

---

## ğŸ¯ Acceso RÃ¡pido

**Frontend MÃ³vil**: http://192.168.0.2:3000
**API Backend**: http://192.168.0.2:5001
**API Health Check**: http://192.168.0.2:5001/api/health

---

Â¡Disfruta de tu experiencia AR! ğŸš€âœ¨
